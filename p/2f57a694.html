<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>正则表达式 | 凉月の博客</title><meta name="author" content="凉月"><meta name="copyright" content="凉月"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="正则表达式就是记录文本规则的代码。">
<meta property="og:type" content="article">
<meta property="og:title" content="正则表达式">
<meta property="og:url" content="https://fulsun.github.io/p/2f57a694">
<meta property="og:site_name" content="凉月の博客">
<meta property="og:description" content="正则表达式就是记录文本规则的代码。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fulsun.github.io/medias/featureimages/007.jpg">
<meta property="article:published_time" content="2019-06-04T08:55:38.000Z">
<meta property="article:modified_time" content="2024-10-17T07:06:55.382Z">
<meta property="article:author" content="凉月">
<meta property="article:tag" content="String类">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://fulsun.github.io/medias/featureimages/007.jpg"><link rel="shortcut icon" href="/medias/favicon.png"><link rel="canonical" href="https://fulsun.github.io/p/2f57a694"><link rel="preconnect" href="//unpkg.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"至上次更新后的","messageNext":"天,文章内容可能已过时。"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 凉月","link":"链接: ","source":"来源: 凉月の博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://unpkg.com/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '正则表达式',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-10-17 07:06:55'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "/medias/detail/load.gif" data-lazy-src="/medias/avatar.jpg" onerror="onerror=null;src='/medias/detail/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">51</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-list"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-heartbeat"></i><span> 我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-camera-retro"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-list"></i><span> 联系</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-user-circle"></i><span> 博主</span></a></li><li><a class="site-page child" href="/contact"><i class="fa-fw fas fa-comments"></i><span> 留言</span></a></li><li><a class="site-page child" href="/journal"><i class="fa-fw fas fa-cogs"></i><span> 日志</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-list"></i><span> JS动画</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/snake/"><i class="fa-fw fas fa-gamepad"></i><span> 贪吃蛇</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/medias/featureimages/007.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="凉月の博客"><span class="site-name">凉月の博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-list"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-heartbeat"></i><span> 我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-camera-retro"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-list"></i><span> 联系</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-user-circle"></i><span> 博主</span></a></li><li><a class="site-page child" href="/contact"><i class="fa-fw fas fa-comments"></i><span> 留言</span></a></li><li><a class="site-page child" href="/journal"><i class="fa-fw fas fa-cogs"></i><span> 日志</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-list"></i><span> JS动画</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/snake/"><i class="fa-fw fas fa-gamepad"></i><span> 贪吃蛇</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">正则表达式</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-06-04T08:55:38.000Z" title="发表于 2019-06-04 08:55:38">2019-06-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-17T07:06:55.382Z" title="更新于 2024-10-17 07:06:55">2024-10-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/JavaSE/">JavaSE</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">10.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>39分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="正则表达式"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><span id="more"></span>

<h2 id="相关阅读"><a href="#相关阅读" class="headerlink" title="相关阅读"></a>相关阅读</h2><ol>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="http://blog.csdn.net/axi295309066/article/details/52765748">Java基础：String类</a></li>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="http://blog.csdn.net/axi295309066/article/details/52820512">Java字符串格式化</a></li>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="http://blog.csdn.net/axi295309066/article/details/52822073">Java基础：正则表达式</a></li>
</ol>
<h2 id="正则表达式概述"><a href="#正则表达式概述" class="headerlink" title="正则表达式概述"></a>正则表达式概述</h2><p>在编写处理字符串的程序或网页时，经常会有查找符合某些复杂规则的字符串的需要。正则表达式就是用于描述这些规则的工具。换句话说，正则表达式就是记录文本规则的代码。</p>
<p>正则表达式，又称正规表示法、常规表示法（英语：Regular Expression，在代码中常简写为regex、regexp或RE），计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。在很多文本编辑器里，正则表达式通常被用来检索、替换那些符合某个模式的文本</p>
<p>许多程序设计语言都支持利用正则表达式进行字符串操作。例如，在Perl中就内建了一个功能强大的正则表达式引擎。正则表达式这个概念最初是由Unix中的工具软件（例如sed和grep）普及开的。正则表达式通常缩写成“regex”，单数有regexp、regex，复数有regexps、regexes、regexen</p>
<p>正则表达式是对字符串操作的一种逻辑公式，就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，这个“规则字符串”用来表达对字符串的一种过滤逻辑</p>
<h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><p>给定一个正则表达式和另一个字符串，我们可以达到如下的</p>
<ul>
<li>给定的字符串是否符合正则表达式的过滤逻辑（称作“匹配”）</li>
<li>可以通过正则表达式，从字符串中获取我们想要的特定部分</li>
</ul>
<h3 id="正则表达式的特点"><a href="#正则表达式的特点" class="headerlink" title="正则表达式的特点"></a>正则表达式的特点</h3><ul>
<li>灵活性、逻辑性和功能性非常的强；</li>
<li>可以迅速地用极简单的方式达到字符串的复杂控制。</li>
<li>对于刚接触的人来说，比较晦涩难懂。</li>
</ul>
<p>由于正则表达式主要应用对象是文本，因此它在各种文本编辑器场合都有应用，小到著名编辑器EditPlus，大到Microsoft Word、Visual Studio等大型编辑器，都可以使用正则表达式来处理文本内容</p>
<h2 id="正则表达式基础知识"><a href="#正则表达式基础知识" class="headerlink" title="正则表达式基础知识"></a>正则表达式基础知识</h2><h3 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h3><p>正则表达式主要依赖于元字符。</p>
<p>元字符不代表他们本身的字面意思, 他们都有特殊的含义。 一些元字符写在方括号中的时候有一些特殊的意思。 以下是一些元字符的介绍:</p>
<p>| 元字符 | 描述                                                         |<br>| —— | ———————————————————— | — |<br>| .      | 句号匹配任意单个字符除了换行符                               |<br>| [ ]    | 字符种类. 匹配方括号内的任意字符                             |<br>| [^ ]   | 否定的字符种类. 匹配除了方括号里的任意字符                   |<br>| *     | 匹配&gt;&#x3D;0个重复的在*号之前的字符                              |<br>| +      | 匹配&gt;&#x3D;1个重复的+号前的字符                                   |<br>| ?      | 标记?之前的字符为可选                                        |<br>| {n,m}  | 匹配num个中括号之前的字符 (n &lt;&#x3D; num &lt;&#x3D; m)                    |<br>| (xyz)  | 字符集, 匹配与 xyz 完全相等的字符串                          |<br>| |     | 或运算符,匹配符号前或后的字符                                |<br>| \      | 转义字符,用于匹配一些保留的字符 <code>[ ] ( ) &#123; &#125; . \* + ? ^ $ \  | </code>   |<br>| ^      | 从开始行开始匹配                                             |<br>| $      | 从末端开始匹配                                               |</p>
<h3 id="常见符号"><a href="#常见符号" class="headerlink" title="常见符号"></a>常见符号</h3><h4 id="字符"><a href="#字符" class="headerlink" title="字符"></a>字符</h4><table>
<thead>
<tr>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>X</td>
<td>字符X</td>
</tr>
<tr>
<td>\\</td>
<td>反斜线</td>
</tr>
<tr>
<td>\t</td>
<td>制表符 (‘\u0009’)</td>
</tr>
<tr>
<td>\n</td>
<td>回车</td>
</tr>
<tr>
<td>\r</td>
<td>换行</td>
</tr>
<tr>
<td>\f</td>
<td>换页符 (‘\u000C’)</td>
</tr>
<tr>
<td>\a</td>
<td>报警 (bell) 符 (‘\u0007’)</td>
</tr>
</tbody></table>
<h4 id="字符类"><a href="#字符类" class="headerlink" title="字符类"></a>字符类</h4><table>
<thead>
<tr>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>[abc]</td>
<td>a、b或c</td>
</tr>
<tr>
<td>[^abc]</td>
<td>任何字符，除了a、b或c</td>
</tr>
<tr>
<td>[a-zA-Z]</td>
<td>a到z,或A到Z</td>
</tr>
<tr>
<td>[0-9]</td>
<td>0到9的字符</td>
</tr>
<tr>
<td>[a-d[m-p]]</td>
<td>a到 d或 m 到 p：[a-dm-p]（并集）</td>
</tr>
<tr>
<td>[a-z&amp;&amp;[def]]</td>
<td>d、e或 f（交集）</td>
</tr>
<tr>
<td>[a-z&amp;&amp;[^bc]]</td>
<td>a到 z，除了 b和 c：[ad-z]（减去）</td>
</tr>
<tr>
<td>[a-z&amp;&amp;[^m-p]]</td>
<td>a到 z，而非 m到 p：[a-lq-z]（减去）</td>
</tr>
<tr>
<td>\u4E00-\u9FA5</td>
<td>中文字符</td>
</tr>
</tbody></table>
<h4 id="预定义字符"><a href="#预定义字符" class="headerlink" title="预定义字符"></a>预定义字符</h4><table>
<thead>
<tr>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>任何字符</td>
</tr>
<tr>
<td>\d</td>
<td>数字：[0-9]</td>
</tr>
<tr>
<td>\D</td>
<td>非数字： [^0-9]</td>
</tr>
<tr>
<td>\s</td>
<td>空白字符：[ \t\n\x0B\f\r]</td>
</tr>
<tr>
<td>\S</td>
<td>非空白字符：[^\s]</td>
</tr>
<tr>
<td>\w</td>
<td>单词字符：[a-zA-Z_0-9]</td>
</tr>
<tr>
<td>\W</td>
<td>非单词字符：[^\w]</td>
</tr>
</tbody></table>
<h3 id="中括号表达式"><a href="#中括号表达式" class="headerlink" title="中括号表达式"></a>中括号表达式</h3><p>范围匹配，一种特殊的匹配单个字符的方法。</p>
<ul>
<li>即[ ]表达式，用来匹配单个字符，只不过这一个字符的所在范围有中括号内的表达式来确定</li>
<li>枚举：[abc]，表示匹配a、b、c的任意一个</li>
<li>范围：[a-f]，表示匹配a-f之间的任意一个字符，包括边界，其中右边界一定要≥左边界，否则引擎编译错误</li>
<li>并：[a-cm-p]，就表示a-c的范围和m-p的范围求并，其实前面的abc之类的枚举也是一种并运算</li>
<li>交：[a-z&amp;&amp;b-d]，就表示a-z的范围和b-d的范围求交，结果等于[b-d]</li>
<li>补：[^abc]表示非a、b、c的任意一个字符，[^a-f]表示非a-f的任一字符；^也是一个脱字符，必须是中括号表达式的第一个字符，否则不起任何作用。补的是^后面紧跟的整个表达式。</li>
<li>嵌套：[a-m&amp;&amp;[def]]，a-m和[def]都表示范围，因此可以做运算，结果等于[d-f]</li>
<li>有了上面这些基本运算，就可以构造一些很复杂的运算了：[a-z&amp;&amp;[^bc]] &#x3D;&#x3D; [ad-z]，但是注意不要用^构造复杂表达式，以下一些表达式将不起作用！<ul>
<li>^后面紧跟一个[ ]嵌套：^[a-d]，非法！不起任何作用</li>
<li>^后面是一个运算（交并补）：^a-cf-h、^a-z&amp;&amp;c-h、^^a-c，都是非法的！！不起任何作用！！</li>
<li>^后面只能跟单纯的枚举和范围运算！！例如[^azh]、[^a-h]等；</li>
</ul>
</li>
</ul>
<h3 id="边界匹配器"><a href="#边界匹配器" class="headerlink" title="边界匹配器"></a>边界匹配器</h3><table>
<thead>
<tr>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>^</td>
<td>行开头</td>
</tr>
<tr>
<td>$</td>
<td>行结尾</td>
</tr>
<tr>
<td>\b</td>
<td>单词边界</td>
</tr>
<tr>
<td>\B</td>
<td>非单词边界</td>
</tr>
<tr>
<td>\A</td>
<td>输入的开头</td>
</tr>
<tr>
<td>\G</td>
<td>上一个匹配的结尾</td>
</tr>
<tr>
<td>\Z</td>
<td>输入的结尾，仅用于最后的结束符（如果有的话）</td>
</tr>
<tr>
<td>\z</td>
<td>输入的结尾</td>
</tr>
</tbody></table>
<h4 id="贪婪与懒惰数量词"><a href="#贪婪与懒惰数量词" class="headerlink" title="贪婪与懒惰数量词"></a>贪婪与懒惰数量词</h4><ul>
<li>贪婪数量词</li>
</ul>
<table>
<thead>
<tr>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>X?</td>
<td>0次或1次</td>
</tr>
<tr>
<td>X*</td>
<td>0次以上</td>
</tr>
<tr>
<td>X+</td>
<td>1次以上</td>
</tr>
<tr>
<td>X{n}</td>
<td>恰好n次</td>
</tr>
<tr>
<td>X{n,}</td>
<td>至少n次</td>
</tr>
<tr>
<td>X{n,m}</td>
<td>n-m次</td>
</tr>
</tbody></table>
<p>当正则表达式中包含能接受重复的限定符时，通常的行为是（在使整个表达式能得到匹配的前提下）匹配尽可能多的字符。以这个表达式为例：<code>a.*b</code>，它将会匹配最长的以a开始，以b结束的字符串。如果用它来搜索aabab的话，它会匹配整个字符串aabab。这被称为贪婪匹配。</p>
<p>有时，我们更需要懒惰匹配，也就是匹配尽可能少的字符。在贪婪数量词后面加上?就是懒惰匹配。这样.*?就意味着匹配任意数量的重复，但是在能使整个匹配成功的前提下使用最少的重复。现在看看懒惰版的例子吧：</p>
<p><code>a.*?b</code>匹配最短的，以a开始，以b结束的字符串。如果把它应用于aabab的话，它会匹配aab（第一到第三个字符）和ab（第四到第五个字符）。</p>
<p>为什么第一个匹配是aab（第一到第三个字符）而不是ab（第二到第三个字符）？简单地说，因为正则表达式有另一条规则，比懒惰／贪婪规则的优先级更高：<strong>最先开始的匹配拥有最高的优先权——The match that begins earliest wins</strong>。</p>
<ul>
<li>懒惰限定符</li>
</ul>
<table>
<thead>
<tr>
<th>代码&#x2F;语法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>*?</td>
<td>重复任意次，但尽可能少重复</td>
</tr>
<tr>
<td>+?</td>
<td>重复1次或更多次，但尽可能少重复</td>
</tr>
<tr>
<td>??</td>
<td>重复0次或1次，但尽可能少重复</td>
</tr>
<tr>
<td>{n,m}?</td>
<td>重复n到m次，但尽可能少重复</td>
</tr>
<tr>
<td>{n,}?</td>
<td>重复n次以上，但尽可能少重复</td>
</tr>
</tbody></table>
<h4 id="分组和捕获"><a href="#分组和捕获" class="headerlink" title="分组和捕获"></a>分组和捕获</h4><p>分组可以分为两种形式，捕获组和非捕获组。</p>
<p>1、捕获组</p>
<p>捕获组可以通过从左到右计算其开括号来编号。例如，在表达式 ((A)(B(C)))中，存在四个这样的组：</p>
<ul>
<li>分组0：((A)(B(C)))</li>
<li>分组1：(A)</li>
<li>分组2：(B(C))</li>
<li>分组3：(C)</li>
</ul>
<p>正则表达式中每个”()”内的部分算作一个捕获组，每个捕获组都有一个编号，从1,2…，编号0代表整个匹配到的内容，组零始终代表整个表达式。</p>
<p>之所以这样命名捕获组是因为在匹配中，保存了与这些组匹配的输入序列的每个子序列。捕获的子序列稍后可以通过 Back 引用（反向引用） 在表达式中使用，也可以在匹配操作完成后从匹配器检索。</p>
<p>Back引用（<code>\n</code>）是说在后面的表达式中我们可以使用组的编号来引用前面的表达式所捕获到的文本序列。注意：反向引用，引用的是前面捕获组中的文本而不是正则，也就是说反向引用处匹配的文本应和前面捕获组中的文本相同，这一点很重要。</p>
<p>例如 <code>([&quot; &#39;]).*\1</code> 其中使用了分组，<code>\1</code>就是对引号这个分组的引用，它匹配包含在两个引号或者两个单引号中的所有字符串，如，”abc” 或 “‘ “ 或’ “ ‘ ，但是请注意，它并不会对”a’或者 ‘a”匹配。原因上面已经说明，Back引用只是引用文本而不是表达式。</p>
<p>捕获组的作用就是为了可以在正则表达式内部或者外部（Java方法）引用它。在另一个字符串引用捕获组的内容的方法(“$”)，在替换中常用$匹配组的内容。$n用来匹配第n个()里的内容。</p>
<p>利用Matcher中的group(int group)获取捕获组内容。</p>
<p>2、捕获组命名</p>
<p>如果捕获组的数量非常多，那都用数字进行编号并引用将会非常混乱，并且难以记忆每个捕获组的内容及意义，因此对捕获组命名显得尤为重要；Java 7开始提供了对捕获组命名的语法，并且可以通过捕获组的名称对捕获组反向引用（内外都行）。</p>
<p>命名捕获组的语法格式：<code>(?&lt;自定义名&gt;expr)</code>，例如：<code>(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;date&gt;\d&#123;2&#125;-(?&lt;day&gt;\d&#123;2&#125;))</code>，有三个命名捕获组year、date和day，从左到右编号分别为1、2、3（编号同样是有效的）</p>
<p>命名捕获组的反向引用：</p>
<ul>
<li>正则表达式内引用：<code>\k&lt;捕获组名称&gt;</code>，例如：<code>(?&lt;year&gt;\d&#123;4&#125;)-\k&lt;year&gt;可以匹配1999-1999</code>；</li>
<li>外部引用：Matcher对象的start、end、group的String name参数指定要查询的捕获组的名称。</li>
</ul>
<p>普通捕获组和命名捕获组的混合编号：</p>
<ul>
<li>普通捕获组是相对命名捕获组的，即没有显式命名的捕获组；</li>
<li>当所有捕获组都是命名捕获组时那么编号规则和原来相同，即按照左括号(的出现顺序来编号；</li>
<li>当普通捕获组和命名捕获组同时出现时，编号规则为：先不忽略命名捕获组，只对普通捕获组按照左括号顺序编号，然后再对命名捕获组从左往右累计编号，例如：先忽略命名命名捕获组<code>&lt;date&gt;</code>，先对普通捕获组编号\d{4}是1，\d\d是2，然后再接着累加地对命名捕获组编号，因此<code>&lt;date&gt;</code>是3；</li>
</ul>
<p>3、非捕获组</p>
<p>非捕获组，只需要将捕获组中”()”变为”(?:)”即可。</p>
<p>以 (?) 开头的组是纯的非捕获组，它不捕获文本 ，也不针对组合计进行计数。就是说，如果小括号中以?号开头，那么这个分组就不会捕获文本，当然也不会有组的编号，因此也不存在Back引用。</p>
<p>我们通过捕获组就能够得到我们想要匹配的内容了，那为什么还要有非捕获组呢？原因是捕获组捕获的内容是被存储在内存中，可供以后使用，比如反向引用就是引用的内存中存储的捕获组中捕获的内容。而非捕获组则不会捕获文本，也不会将它匹配到的内容单独分组来放到内存中。所以，使用非捕获组较使用捕获组更节省内存。在实际情况中我们要酌情选用。</p>
<h3 id="前后关联约束-前后预查"><a href="#前后关联约束-前后预查" class="headerlink" title="前后关联约束(前后预查)"></a>前后关联约束(前后预查)</h3><p>前置约束和后置约束都属于非捕获簇(用于匹配不在匹配列表中的格式)。 前置约束用于判断所匹配的格式是否在另一个确定的格式之后。</p>
<p>例如, 我们想要获得所有跟在 <code>$</code> 符号后的数字, 我们可以使用正向向后约束 <code>(?&lt;=\$)[0-9\.]*</code>。这个表达式匹配 <code>$</code> 开头, 之后跟着 <code>0,1,2,3,4,5,6,7,8,9,.</code> 这些字符可以出现大于等于 0 次。</p>
<p>前后关联约束如下:</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>?&#x3D;</td>
<td>前置约束-存在</td>
</tr>
<tr>
<td>?!</td>
<td>前置约束-排除</td>
</tr>
<tr>
<td>?&lt;&#x3D;</td>
<td>后置约束-存在</td>
</tr>
<tr>
<td>?&lt;!</td>
<td>后置约束-排除</td>
</tr>
</tbody></table>
<h4 id="exp前置约束-存在"><a href="#exp前置约束-存在" class="headerlink" title="?=exp前置约束(存在)"></a><code>?=exp</code>前置约束(存在)</h4><p>?&#x3D;exp 前置约束(存在), 表示第一部分表达式必须跟在 ?&#x3D;exp 定义的表达式之后.</p>
<p>返回结果只瞒住第一部分表达式. 定义一个前置约束(存在)要使用 <code>()</code>. 在括号内部使用一个问号和等号: (?&#x3D;exp).</p>
<p>前置约束的内容写在括号中的等号后面. 例如, 表达式 <code>[T|t]he(?=\sfat)</code> 匹配 <code>The</code> 和 <code>the</code>, 在括号中我们又定义了前置约束(存在) <code>(?=\sfat)</code> ,即 <code>The</code> 和 <code>the</code> 后面紧跟着 <code>(空格)fat</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;[T|t]he(?=\sfat)&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>

<h4 id="exp前置约束-排除"><a href="#exp前置约束-排除" class="headerlink" title="?!exp前置约束-排除"></a><code>?!exp</code>前置约束-排除</h4><p>前置约束-排除 <code>?!</code> 用于筛选所有匹配结果, 筛选条件为 其后不跟随着定义的格式 <code>前置约束-排除</code> 定义和 <code>前置约束(存在)</code> 一样, 区别就是 <code>=</code> 替换成 <code>!</code> 也就是 (?!exp).</p>
<p>表达式 <code>[T|t]he(?!\sfat)</code> 匹配 <code>The</code> 和 <code>the</code>, 且其后不跟着 <code>(空格)fat</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;[T|t]he(?!\sfat)&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>

<h4 id><a href="#" class="headerlink" title="?&lt;=exp后置约束-存在"></a><code>?&lt;=exp</code>后置约束-存在</h4><p>后置约束-存在 记作(?&lt;&#x3D;exp)用于筛选所有匹配结果, 筛选条件为 其前跟随着定义的格式. 例如, 表达式 <code>(?&lt;=[T|t]he\s)(fat|mat)</code> 匹配 <code>fat</code> 和 <code>mat</code>, 且其前跟着 <code>The</code> 或 <code>the</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;(?&lt;=[T|t]he\s)(fat|mat)&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>

<h4 id="-1"><a href="#-1" class="headerlink" title="?&lt;!exp后置约束-排除"></a><code>?&lt;!exp</code>后置约束-排除</h4><p>后置约束-排除 记作 (?&lt;!exp)用于筛选所有匹配结果, 筛选条件为 其前不跟着定义的格式. 例如, 表达式 <code>(?&lt;!(T|t)he\s)(cat)</code>匹配 <code>cat</code>, 且其前不跟着 <code>The</code> 或 <code>the</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;(?&lt;![T|t]he\s)(cat)&quot; =&gt; The cat sat on cat.</span><br></pre></td></tr></table></figure>

<h3 id="标志"><a href="#标志" class="headerlink" title="标志"></a>标志</h3><p>标志也叫修饰语, 因为它可以用来修改表达式的搜索结果. 这些标志可以任意的组合使用, 它也是整个正则表达式的一部分.</p>
<table>
<thead>
<tr>
<th>标志</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>忽略大小写.</td>
</tr>
<tr>
<td>g</td>
<td>全局搜索.</td>
</tr>
<tr>
<td>m</td>
<td>多行的: 锚点元字符 <code>^</code> <code>$</code> 工作范围在每行的起始.</td>
</tr>
</tbody></table>
<h4 id="忽略大小写-Case-Insensitive"><a href="#忽略大小写-Case-Insensitive" class="headerlink" title="忽略大小写 (Case Insensitive)"></a>忽略大小写 (Case Insensitive)</h4><p>修饰语 <code>i</code> 用于忽略大小写. 例如, 表达式 <code>/The/gi</code> 表示在全局搜索 <code>The</code>, 在后面的 <code>i</code> 将其条件修改为忽略大小写, 则变成搜索 <code>the</code> 和 <code>The</code>, <code>g</code> 表示全局搜索.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;The&quot; =&gt; The fat cat sat on the mat.</span><br><span class="line">&quot;/The/gi&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>

<h4 id="全局搜索-Global-search"><a href="#全局搜索-Global-search" class="headerlink" title="全局搜索 (Global search)"></a>全局搜索 (Global search)</h4><p>修饰符 <code>g</code> 常用语执行一个全局搜索匹配, 即(不仅仅返回第一个匹配的, 而是返回全部). 例如, 表达式 <code>/.(at)/g</code> 表示搜索 任意字符(除了换行) + <code>at</code>, 并返回全部结果.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;/.(at)/&quot; =&gt; The fat cat sat on the mat.</span><br><span class="line">&quot;/.(at)/g&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>

<h4 id="多行修饰符-Multiline"><a href="#多行修饰符-Multiline" class="headerlink" title="多行修饰符 (Multiline)"></a>多行修饰符 (Multiline)</h4><p>多行修饰符 <code>m</code> 常用语执行一个多行匹配.</p>
<p>像之前介绍的 <code>(^,$)</code> 用于检查格式是否是在待检测字符串的开头或结尾. 但我们如果想要它在每行的开头和结尾生效, 我们需要用到多行修饰符 <code>m</code>.</p>
<p>例如, 表达式 <code>/at(.)?$/gm</code> 表示在待检测字符串每行的末尾搜索 <code>at</code>后跟一个或多个 <code>.</code> 的字符串, 并返回全部结果.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&quot;/.at(.)?$/&quot; =&gt; The fat</span><br><span class="line">                cat sat</span><br><span class="line">                on the mat.</span><br><span class="line"></span><br><span class="line">&quot;/.at(.)?$/gm&quot; =&gt; The fat</span><br><span class="line">                  cat sat</span><br><span class="line">                  on the mat.</span><br></pre></td></tr></table></figure>

<h2 id="更多正则表达式教程"><a href="#更多正则表达式教程" class="headerlink" title="更多正则表达式教程"></a>更多正则表达式教程</h2><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/zeeshanu/learn-regex">learn-regex</a>：一个学习正则的开源项目，由浅入深，很容易入手，而且教程有中文版。</p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://deerchao.net/tutorials/regex/regex.htm#mission">正则表达式30分钟入门教程</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.cnblogs.com/kissazi2/p/3287206.html">Java正则表达式的应用</a></p>
<h2 id="正则表达式的应用"><a href="#正则表达式的应用" class="headerlink" title="正则表达式的应用"></a>正则表达式的应用</h2><p>String 类提供的几个特殊方法</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td>matches()</td>
<td>判断该字符串是否匹配指定的正则表达式</td>
</tr>
<tr>
<td>replaceAll()</td>
<td>将该字符串所有匹配正则表达式的子串替换成指定的字符串</td>
</tr>
<tr>
<td>replaceFirst()</td>
<td>将该字符串中第一个匹配正则表达式的子串替换成指定的字符串</td>
</tr>
<tr>
<td>split(String regex)</td>
<td>以regex为分隔符，将该字符串分割成多个子串</td>
</tr>
</tbody></table>
<h3 id="匹配功能"><a href="#匹配功能" class="headerlink" title="匹配功能"></a>匹配功能</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>  <span class="type">boolean</span> <span class="title function_">matches</span><span class="params">(String regex)</span> <span class="comment">// 编译给定正则表达式并尝试将给定输入与其匹配。</span></span><br></pre></td></tr></table></figure>

<p>校验邮箱</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast_02;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 校验邮箱</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 分析：</span></span><br><span class="line"><span class="comment"> * 		A:键盘录入邮箱</span></span><br><span class="line"><span class="comment"> * 		B:定义邮箱的规则</span></span><br><span class="line"><span class="comment"> * 			1517806580@qq.com</span></span><br><span class="line"><span class="comment"> * 			liuyi@163.com</span></span><br><span class="line"><span class="comment"> * 			linqingxia@126.com</span></span><br><span class="line"><span class="comment"> * 			fengqingyang@sina.com.cn</span></span><br><span class="line"><span class="comment"> * 			fqy@itcast.cn</span></span><br><span class="line"><span class="comment"> * 		C:调用功能，判断即可</span></span><br><span class="line"><span class="comment"> * 		D:输出结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexTest</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">//键盘录入邮箱</span></span><br><span class="line">		<span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">		System.out.println(<span class="string">&quot;请输入邮箱：&quot;</span>);</span><br><span class="line">		<span class="type">String</span> <span class="variable">email</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line"></span><br><span class="line">		<span class="comment">//定义邮箱的规则</span></span><br><span class="line">		<span class="comment">//String regex = &quot;[a-zA-Z_0-9]+@[a-zA-Z_0-9]&#123;2,6&#125;(\\.[a-zA-Z_0-9]&#123;2,3&#125;)+&quot;;</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;\\w+@\\w&#123;2,6&#125;(\\.\\w&#123;2,3&#125;)+&quot;</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//调用功能，判断即可</span></span><br><span class="line">		<span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> email.matches(regex);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//输出结果</span></span><br><span class="line">		System.out.println(<span class="string">&quot;flag:&quot;</span>+flag);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="分割功能"><a href="#分割功能" class="headerlink" title="分割功能"></a>分割功能</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>  String[] split(String regex) <span class="comment">// 根据指定的正则表达式分割字符串</span></span><br></pre></td></tr></table></figure>

<p>代码示例：我有如下一个字符串:”91 27 46 38 50”，请写代码实现最终输出结果是：”27 38 46 50 91”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast_03;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 我有如下一个字符串:&quot;91 27 46 38 50&quot;</span></span><br><span class="line"><span class="comment"> * 请写代码实现最终输出结果是：&quot;27 38 46 50 91&quot;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 分析：</span></span><br><span class="line"><span class="comment"> * 		A:定义一个字符串</span></span><br><span class="line"><span class="comment"> * 		B:把字符串进行分割，得到一个字符串数组</span></span><br><span class="line"><span class="comment"> * 		C:把字符串数组变换成int数组</span></span><br><span class="line"><span class="comment"> * 		D:对int数组排序</span></span><br><span class="line"><span class="comment"> * 		E:把排序后的int数组在组装成一个字符串</span></span><br><span class="line"><span class="comment"> * 		F:输出字符串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexTest</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// 定义一个字符串</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;91 27 46 38 50&quot;</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 把字符串进行分割，得到一个字符串数组</span></span><br><span class="line">		String[] strArray = s.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 把字符串数组变换成int数组</span></span><br><span class="line">		<span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[strArray.length];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>; x &lt; arr.length; x++) &#123;</span><br><span class="line">			arr[x] = Integer.parseInt(strArray[x]);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 对int数组排序</span></span><br><span class="line">		Arrays.sort(arr);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 把排序后的int数组在组装成一个字符串</span></span><br><span class="line">		<span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>; x &lt; arr.length; x++) &#123;</span><br><span class="line">			sb.append(arr[x]).append(<span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//转化为字符串</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> sb.toString().trim();</span><br><span class="line"></span><br><span class="line">		<span class="comment">//输出字符串</span></span><br><span class="line">		System.out.println(<span class="string">&quot;result:&quot;</span>+result);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="替换功能"><a href="#替换功能" class="headerlink" title="替换功能"></a>替换功能</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>  String <span class="title function_">replaceAll</span><span class="params">(String regex,String replacement)</span></span><br></pre></td></tr></table></figure>

<p>使用给定的 replacement 替换此字符串所有匹配给定的正则表达式的子字符串。</p>
<ul>
<li>论坛中不能出现数字字符，用*替换</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast_04;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 替换功能</span></span><br><span class="line"><span class="comment"> *  	String类的public String replaceAll(String regex,String replacement)</span></span><br><span class="line"><span class="comment"> *  	使用给定的 replacement 替换此字符串所有匹配给定的正则表达式的子字符串。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexDemo</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// 定义一个字符串</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;helloqq12345worldkh622112345678java&quot;</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 我要去除所有的数字,用*给替换掉</span></span><br><span class="line">		<span class="comment">// String regex = &quot;\\d+&quot;;</span></span><br><span class="line">		<span class="comment">// String regex = &quot;\\d&quot;;</span></span><br><span class="line">		<span class="comment">//String ss = &quot;*&quot;;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 直接把数字干掉</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;\\d+&quot;</span>;</span><br><span class="line">		<span class="type">String</span> <span class="variable">ss</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">		<span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> s.replaceAll(regex, ss);</span><br><span class="line">		System.out.println(result);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="获取功能"><a href="#获取功能" class="headerlink" title="获取功能"></a>获取功能</h3><p>Pattern和Matcher类的使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast_05;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 获取功能</span></span><br><span class="line"><span class="comment"> *		Pattern和Matcher类的使用</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *		模式和匹配器的基本使用顺序</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexDemo</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// 模式和匹配器的典型调用顺序</span></span><br><span class="line">		<span class="comment">// 把正则表达式编译成模式对象</span></span><br><span class="line">		<span class="type">Pattern</span> <span class="variable">p</span> <span class="operator">=</span> Pattern.compile(<span class="string">&quot;a*b&quot;</span>);</span><br><span class="line">		<span class="comment">// 通过模式对象得到匹配器对象，这个时候需要的是被匹配的字符串</span></span><br><span class="line">		<span class="type">Matcher</span> <span class="variable">m</span> <span class="operator">=</span> p.matcher(<span class="string">&quot;aaaaab&quot;</span>);</span><br><span class="line">		<span class="comment">// 调用匹配器对象的功能</span></span><br><span class="line">		<span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> m.matches();</span><br><span class="line">		System.out.println(b);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//这个是判断功能，但是如果做判断，这样做就有点麻烦了，我们直接用字符串的方法做</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;aaaaab&quot;</span>;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;a*b&quot;</span>;</span><br><span class="line">		<span class="type">boolean</span> <span class="variable">bb</span> <span class="operator">=</span> s.matches(regex);</span><br><span class="line">		System.out.println(bb);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Pattern-匹配模式"><a href="#Pattern-匹配模式" class="headerlink" title="Pattern 匹配模式"></a>Pattern 匹配模式</h3><p>Pattern类为正则表达式的编译表示形式。指定为字符串的表达式必须首先被编译为此类的实例。然后，可将得到的模式用于创建Matcher对象，依照正则表达式，该对象可与任意字符序列匹配。执行匹配所涉及的所有状态都驻留在匹配器中，所以多个匹配器可以共享同一个模式。</p>
<table>
<thead>
<tr>
<th align="left">方法声明</th>
<th align="left">功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">compile()</td>
<td align="left">把正则表达式编译成匹配模式</td>
</tr>
<tr>
<td align="left">matcher()</td>
<td align="left">根据匹配模式去匹配指定的字符串，得到匹配器</td>
</tr>
</tbody></table>
<h3 id="Matcher-匹配器"><a href="#Matcher-匹配器" class="headerlink" title="Matcher 匹配器"></a>Matcher 匹配器</h3><table>
<thead>
<tr>
<th align="left">方法声明</th>
<th align="left">功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">matches()</td>
<td align="left">匹配字符串</td>
</tr>
<tr>
<td align="left">find()</td>
<td align="left">查找有没有满足条件的子串</td>
</tr>
<tr>
<td align="left">group()</td>
<td align="left">获取满足条件的子串</td>
</tr>
<tr>
<td align="left">reset()</td>
<td align="left">将Matcher的状态重新设置为最初的状态</td>
</tr>
<tr>
<td align="left">reset(CharSequence input)</td>
<td align="left">重新设置Matcher的状态，并且将候选字符序列设置为input后进行Matcher, 这个方法和重新创建一个Matcher一样，只是这样可以重用以前的对象。</td>
</tr>
<tr>
<td align="left">start()</td>
<td align="left">返回Matcher所匹配的字符串在整个字符串的的开始下标</td>
</tr>
<tr>
<td align="left">start(int group)</td>
<td align="left">指定你感兴趣的sub group,然后返回sup group(子分组)匹配的开始位置。</td>
</tr>
<tr>
<td align="left">end()</td>
<td align="left">返回在以前的匹配操作期间，由给定组所捕获子序列的最后字符之后的偏移量。</td>
</tr>
</tbody></table>
<ul>
<li>注意事项</li>
</ul>
<p>Pattern类为正则表达式的编译表示形式。指定为字符串的正则表达式必须首先被编译为此类的实例。然后，可将得到的模式用于创建Matcher对象，依照正则表达式，该对象可以与任意字符序列匹配。执行匹配所涉及的所有状态都驻留在匹配器中，所以多个匹配器可以共享同一模式</p>
<h4 id="分组："><a href="#分组：" class="headerlink" title="分组："></a>分组：</h4><p>简单的说，分组其实就是为了能够指定同一个规则可以使用多少次。正则表达式中的分组就是整个大的正则表达式和用（）圈起来的内容。</p>
<p>在这个正则表达式”\w(\d\d)(\w+)”中</p>
<ul>
<li>分组0：是”\w(\d\d)(\w+)”</li>
<li>分组1：是(\d\d)</li>
<li>分组2：是(\w+)</li>
</ul>
<p>如果我们稍稍变换一下，将原先的正则表达式改为”（\w）(\d\d)(\w+)”，我们的分组就变成了</p>
<ul>
<li>分组0：是”\w(\d\d)(\w+)”</li>
<li>分组1：是”(\w)”</li>
<li>分组2：是”(\d\d)”</li>
<li>分组3：是”(\w+)”</li>
</ul>
<p>我们看看和正则表达式”\w(\d\d)(\w+)”匹配的一个字符串A22happy</p>
<ul>
<li>group(0)是匹配整个表达式的字符串的那部分A22happy</li>
<li>group(1)是第1组(\d\d)匹配的部分:22</li>
<li>group(2)是第2组(\w+)匹配的那部分happy</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">	String Regex=<span class="string">&quot;\\w(\\d\\d)(\\w+)&quot;</span>;</span><br><span class="line">	String TestStr=<span class="string">&quot;A22happy&quot;</span>;</span><br><span class="line">	Pattern p=Pattern.compile(Regex);</span><br><span class="line">	Matcher matcher=p.matcher(TestStr);</span><br><span class="line">	<span class="keyword">if</span> (matcher.find()) &#123;</span><br><span class="line">	    <span class="type">int</span> gc=matcher.groupCount();</span><br><span class="line">	    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= gc; i++) &#123;</span><br><span class="line">	        System.out.println(<span class="string">&quot;group &quot;</span>+i+<span class="string">&quot; :&quot;</span>+matcher.group(i));</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">group 0 :A22happy</span></span><br><span class="line"><span class="comment">group 1 :22</span></span><br><span class="line"><span class="comment">group 2 :happy</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="start-方法"><a href="#start-方法" class="headerlink" title="start()方法"></a>start()方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">testStart</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//创建一个 Matcher ，使用 Matcher.start()方法</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">candidateString</span> <span class="operator">=</span> <span class="string">&quot;My name is Bond. James Bond.&quot;</span>;</span><br><span class="line">    String matchHelper[] =&#123;<span class="string">&quot;          ^&quot;</span>,<span class="string">&quot;                      ^&quot;</span>&#125;;</span><br><span class="line">    <span class="type">Pattern</span> <span class="variable">p</span> <span class="operator">=</span> Pattern.compile(<span class="string">&quot;Bond&quot;</span>);</span><br><span class="line">    <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> p.matcher(candidateString);</span><br><span class="line">    <span class="comment">//找到第一个 &#x27;Bond&#x27;的开始下标</span></span><br><span class="line">    matcher.find();</span><br><span class="line">    <span class="type">int</span> <span class="variable">startIndex</span> <span class="operator">=</span> matcher.start();</span><br><span class="line">    System.out.println(candidateString);</span><br><span class="line">    System.out.println(matchHelper[<span class="number">0</span>] + startIndex);</span><br><span class="line">    <span class="comment">//找到第二个&#x27;Bond&#x27;的开始下标</span></span><br><span class="line">    matcher.find();</span><br><span class="line">    <span class="type">int</span> <span class="variable">nextIndex</span> <span class="operator">=</span> matcher.start();</span><br><span class="line">    System.out.println(candidateString);</span><br><span class="line">    System.out.println(matchHelper[<span class="number">1</span>] + nextIndex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src= "/medias/detail/load.gif" data-lazy-src="/p/2f57a694/7a61947f3071a4c779163a29b435ea37.png"></p>
<h4 id="group方法"><a href="#group方法" class="headerlink" title="group方法"></a>group方法</h4><blockquote>
<p>注意：一定要先find()，然后才能group()</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 测试matcher.group方法</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">testGroup</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 创建一个 Pattern</span></span><br><span class="line">    <span class="type">Pattern</span> <span class="variable">p</span> <span class="operator">=</span> Pattern.compile(<span class="string">&quot;Bond&quot;</span>);</span><br><span class="line">    <span class="comment">// 创建一个 Matcher ，以便使用 Matcher.group() 方法</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">candidateString</span> <span class="operator">=</span> <span class="string">&quot;My name is Bond. James Bond.&quot;</span>;</span><br><span class="line">    <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> p.matcher(candidateString);</span><br><span class="line">    <span class="comment">// 提取 group</span></span><br><span class="line">    matcher.find();</span><br><span class="line">    System.out.println(String.format(<span class="string">&quot;group匹配的字符串 : %s&quot;</span>,matcher.group()));</span><br><span class="line">    System.out.println(String.format(<span class="string">&quot;匹配的开始位置 : %d&quot;</span>, matcher.start()));</span><br><span class="line">    System.out.println(String.format(<span class="string">&quot;匹配的结束位置 : %d&quot;</span>, matcher.end()));</span><br><span class="line"></span><br><span class="line">    System.out</span><br><span class="line">            .println(<span class="string">&quot;---再次使用matcher.find()方法，看看matcher中group、start、end方法的效果&quot;</span>);</span><br><span class="line">    matcher.find();</span><br><span class="line">    System.out.println(String.format(<span class="string">&quot;group匹配的字符串 : %s&quot;</span>,matcher.group()));;</span><br><span class="line">    System.out.println(String.format(<span class="string">&quot;匹配的开始位置 : %d&quot;</span>, matcher.start()));</span><br><span class="line">    System.out.println(String.format(<span class="string">&quot;匹配的结束位置 : %d&quot;</span>, matcher.end()));</span><br><span class="line">    System.out.println(String.format(<span class="string">&quot;candidateString字符串的长度 : %d&quot;</span>, candidateString.length()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src= "/medias/detail/load.gif" data-lazy-src="/p/2f57a694/0e749b6126e6de7e6897b182776c12de.png"></p>
<ul>
<li>获取由三个字符组成的单词</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast_05;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 获取功能：</span></span><br><span class="line"><span class="comment"> * 获取下面这个字符串中由三个字符组成的单词</span></span><br><span class="line"><span class="comment"> * da jia ting wo shuo,jin tian yao xia yu,bu shang wan zi xi,gao xing bu?</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexDemo2</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// 定义字符串</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;da jia ting wo shuo,jin tian yao xia yu,bu shang wan zi xi,gao xing bu?&quot;</span>;</span><br><span class="line">		<span class="comment">// 规则</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;\\b\\w&#123;3&#125;\\b&quot;</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 把规则编译成模式对象</span></span><br><span class="line">		<span class="type">Pattern</span> <span class="variable">p</span> <span class="operator">=</span> Pattern.compile(regex);</span><br><span class="line">		<span class="comment">// 通过模式对象得到匹配器对象</span></span><br><span class="line">		<span class="type">Matcher</span> <span class="variable">m</span> <span class="operator">=</span> p.matcher(s);</span><br><span class="line">		<span class="comment">// 调用匹配器对象的功能</span></span><br><span class="line">		<span class="comment">// 通过find方法就是查找有没有满足条件的子串</span></span><br><span class="line">		<span class="comment">// public boolean find()</span></span><br><span class="line">		<span class="comment">// boolean flag = m.find();</span></span><br><span class="line">		<span class="comment">// System.out.println(flag);</span></span><br><span class="line">		<span class="comment">// // 如何得到值呢?</span></span><br><span class="line">		<span class="comment">// // public String group()</span></span><br><span class="line">		<span class="comment">// String ss = m.group();</span></span><br><span class="line">		<span class="comment">// System.out.println(ss);</span></span><br><span class="line">		<span class="comment">//</span></span><br><span class="line">		<span class="comment">// // 再来一次</span></span><br><span class="line">		<span class="comment">// flag = m.find();</span></span><br><span class="line">		<span class="comment">// System.out.println(flag);</span></span><br><span class="line">		<span class="comment">// ss = m.group();</span></span><br><span class="line">		<span class="comment">// System.out.println(ss);</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (m.find()) &#123;</span><br><span class="line">			System.out.println(m.group());</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 注意：一定要先find()，然后才能group()</span></span><br><span class="line">		<span class="comment">// IllegalStateException: No match found</span></span><br><span class="line">		<span class="comment">// String ss = m.group();</span></span><br><span class="line">		<span class="comment">// System.out.println(ss);</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>判断身份证：要么是15位，要么是18位，最后一位可以为字母，并写程序提出其中的年月日。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    testID_Card();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">testID_Card</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 测试是否为合法的身份证号码</span></span><br><span class="line">    String[] strs = &#123; <span class="string">&quot;130681198712092019&quot;</span>, <span class="string">&quot;13068119871209201x&quot;</span>,</span><br><span class="line">            <span class="string">&quot;13068119871209201&quot;</span>, <span class="string">&quot;123456789012345&quot;</span>, <span class="string">&quot;12345678901234x&quot;</span>,</span><br><span class="line">            <span class="string">&quot;1234567890123&quot;</span> &#125;;</span><br><span class="line">    <span class="comment">// 准备正则表达式（身份证有15位和18位两种，身份证的最后一位可能是字母）</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;(\\d&#123;14&#125;\\w)|\\d&#123;17&#125;\\w&quot;</span>;</span><br><span class="line">    <span class="comment">// 准备开始匹配，判断所有的输入是否是正确的</span></span><br><span class="line">    <span class="type">Pattern</span> <span class="variable">regular</span> <span class="operator">=</span> Pattern.compile(regex); <span class="comment">// 创建匹配的规则Patter</span></span><br><span class="line"></span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="comment">// 遍历所有要匹配的字符串</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; strs.length; i++) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> regular.matcher(strs[i]);<span class="comment">// 创建一个Matcher</span></span><br><span class="line">        sb.append(<span class="string">&quot;身份证:  &quot;</span>);</span><br><span class="line">        sb.append(strs[i]);</span><br><span class="line">        sb.append(<span class="string">&quot;   匹配:&quot;</span>);</span><br><span class="line">        sb.append(matcher.matches());</span><br><span class="line">        System.out.println(sb.toString());</span><br><span class="line">        sb.delete(<span class="number">0</span>, sb.length());<span class="comment">// 清空StringBuilder的方法</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    GetBirthDay(strs);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">GetBirthDay</span><span class="params">(String[] strs)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;准备开始获取出生日期&quot;</span>);</span><br><span class="line">    <span class="comment">// 准备验证规则</span></span><br><span class="line">    <span class="type">Pattern</span> <span class="variable">BirthDayRegular</span> <span class="operator">=</span> Pattern.compile(<span class="string">&quot;(\\d&#123;6&#125;)(\\d&#123;8&#125;)(.*)&quot;</span>);</span><br><span class="line">    <span class="comment">// .*连在一起就意味着任意数量的不包含换行的字符</span></span><br><span class="line">    <span class="type">Pattern</span> <span class="variable">YearMonthDayRegular</span> <span class="operator">=</span> Pattern.compile(<span class="string">&quot;(\\d&#123;4&#125;)(\\d&#123;2&#125;)(\\d&#123;2&#125;)&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; strs.length; i++) &#123;</span><br><span class="line">        <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> BirthDayRegular.matcher(strs[i]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (matcher.matches()) &#123;</span><br><span class="line">            <span class="type">Matcher</span> <span class="variable">matcher2</span> <span class="operator">=</span> YearMonthDayRegular.matcher(matcher.group(<span class="number">2</span>));</span><br><span class="line">            <span class="keyword">if</span> (matcher2.matches()) &#123;</span><br><span class="line">                System.out.println(strs[i]+<span class="string">&quot;    中的出生年月分解为： &quot;</span>+<span class="string">&quot;年&quot;</span> + matcher2.group(<span class="number">1</span>) + <span class="string">&quot;   月：&quot;</span> + matcher2.group(<span class="number">2</span>) + <span class="string">&quot;  日：&quot;</span> + matcher2.group(<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src= "/medias/detail/load.gif" data-lazy-src="/p/2f57a694/e4e1c63060b27b6b4d98808eb02501a5.png"></p>
<h2 id="正则表达式工具类"><a href="#正则表达式工具类" class="headerlink" title="正则表达式工具类"></a>正则表达式工具类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 正则工具类 提供验证邮箱、手机号、电话号码、身份证号码、数字等方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">RegexUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 验证Email</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> email</span></span><br><span class="line"><span class="comment">	 *            email地址，格式：zhangsan@sina.com，zhangsan@xxx.com.cn，xxx代表邮件服务商</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false ^ ：匹配输入的开始位置。 \：将下一个字符标记为特殊字符或字面值。</span></span><br><span class="line"><span class="comment">	 *         ：匹配前一个字符零次或几次。 + ：匹配前一个字符一次或多次。 (pattern) 与模式匹配并记住匹配。 x|y：匹配 x 或</span></span><br><span class="line"><span class="comment">	 *         y。 [a-z] ：表示某个范围内的字符。与指定区间内的任何字符匹配。 \w ：与任何单词字符匹配，包括下划线。</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 *         &#123;n,m&#125; 最少匹配 n 次且最多匹配 m 次 $ ：匹配输入的结尾。</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkEmail</span><span class="params">(String email)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w&#123;2,3&#125;)&#123;1,3&#125;)$&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, email);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 验证身份证号码</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> idCard</span></span><br><span class="line"><span class="comment">	 *            居民身份证号码15位或18位，最后一位可能是数字或字母</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkIdCard</span><span class="params">(String idCard)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;[1-9]\\d&#123;13,16&#125;[a-zA-Z0-9]&#123;1&#125;&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, idCard);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 验证手机号码（支持国际格式，+86135xxxx...（中国内地），+00852137xxxx...（中国香港））</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> mobile</span></span><br><span class="line"><span class="comment">	 *            移动、联通、电信运营商的号码段</span></span><br><span class="line"><span class="comment">	 *            &lt;p&gt;</span></span><br><span class="line"><span class="comment">	 *            移动的号段：134(0-8)、135、136、137、138、139、147（预计用于TD上网卡）</span></span><br><span class="line"><span class="comment">	 *            、150、151、152、157（TD专用）、158、159、187（未启用）、188（TD专用）</span></span><br><span class="line"><span class="comment">	 *            &lt;/p&gt;</span></span><br><span class="line"><span class="comment">	 *            &lt;p&gt;</span></span><br><span class="line"><span class="comment">	 *            联通的号段：130、131、132、155、156（世界风专用）、185（未启用）、186（3g）</span></span><br><span class="line"><span class="comment">	 *            &lt;/p&gt;</span></span><br><span class="line"><span class="comment">	 *            &lt;p&gt;</span></span><br><span class="line"><span class="comment">	 *            电信的号段：133、153、180（未启用）、189</span></span><br><span class="line"><span class="comment">	 *            &lt;/p&gt;</span></span><br><span class="line"><span class="comment">	 *            &lt;p&gt;</span></span><br><span class="line"><span class="comment">	 *            虚拟运营商的号段：170</span></span><br><span class="line"><span class="comment">	 *            &lt;/p&gt;</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkMobile</span><span class="params">(String mobile)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;(\\+\\d+)?1[34578]\\d&#123;9&#125;$&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, mobile);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 验证固定电话号码</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> phone</span></span><br><span class="line"><span class="comment">	 *            电话号码，格式：国家（地区）电话代码 + 区号（城市代码） + 电话号码，如：+8602085588447</span></span><br><span class="line"><span class="comment">	 *            &lt;p&gt;</span></span><br><span class="line"><span class="comment">	 *            &lt;b&gt;国家（地区） 代码 ：&lt;/b&gt;标识电话号码的国家（地区）的标准国家（地区）代码。它包含从 0 到 9</span></span><br><span class="line"><span class="comment">	 *            的一位或多位数字， 数字之后是空格分隔的国家（地区）代码。</span></span><br><span class="line"><span class="comment">	 *            &lt;/p&gt;</span></span><br><span class="line"><span class="comment">	 *            &lt;p&gt;</span></span><br><span class="line"><span class="comment">	 *            &lt;b&gt;区号（城市代码）：&lt;/b&gt;这可能包含一个或多个从 0 到 9 的数字，地区或城市代码放在圆括号——</span></span><br><span class="line"><span class="comment">	 *            对不使用地区或城市代码的国家（地区），则省略该组件。</span></span><br><span class="line"><span class="comment">	 *            &lt;/p&gt;</span></span><br><span class="line"><span class="comment">	 *            &lt;p&gt;</span></span><br><span class="line"><span class="comment">	 *            &lt;b&gt;电话号码：&lt;/b&gt;这包含从 0 到 9 的一个或多个数字</span></span><br><span class="line"><span class="comment">	 *            &lt;/p&gt;</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkPhone</span><span class="params">(String phone)</span> &#123;</span><br><span class="line">		<span class="comment">// String regex = &quot;(\\+\\d+)?(\\d&#123;3,4&#125;\\-?)?\\d&#123;7,8&#125;$&quot;;</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;^1\\d&#123;10&#125;$&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, phone);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 验证整数（正整数和负整数）</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> digit</span></span><br><span class="line"><span class="comment">	 *            一位或多位0-9之间的整数</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkDigit</span><span class="params">(String digit)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;\\-?[1-9]\\d+&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, digit);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 验证整数和浮点数（正负整数和正负浮点数）</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> decimals</span></span><br><span class="line"><span class="comment">	 *            一位或多位0-9之间的浮点数，如：1.23，233.30</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkDecimals</span><span class="params">(String decimals)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;\\-?[1-9]\\d+(\\.\\d+)?&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, decimals);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 验证空白字符</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> blankSpace</span></span><br><span class="line"><span class="comment">	 *            空白字符，包括：空格、\t、\n、\r、\f、\x0B</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkBlankSpace</span><span class="params">(String blankSpace)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;\\s+&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, blankSpace);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 验证中文</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> chinese</span></span><br><span class="line"><span class="comment">	 *            中文字符</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkChinese</span><span class="params">(String chinese)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;^[\u4E00-\u9FA5]+$&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, chinese);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 验证日期（年月日）</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> birthday</span></span><br><span class="line"><span class="comment">	 *            日期，格式：1992-09-03，或1992.09.03</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkBirthday</span><span class="params">(String birthday)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;[1-9]&#123;4&#125;([-./])\\d&#123;1,2&#125;\\1\\d&#123;1,2&#125;&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, birthday);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 验证URL地址</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">	 *            格式：http://blog.csdn.net:80/xyang81/article/details/7705960? 或</span></span><br><span class="line"><span class="comment">	 *            http://www.csdn.net:80</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkURL</span><span class="params">(String url)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;(https?://(w&#123;3&#125;\\.)?)?\\w+\\.\\w+(\\.[a-zA-Z]+)*(:\\d&#123;1,5&#125;)?(/\\w*)*(\\??(.+=.*)?(&amp;.+=.*)?)?&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, url);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 匹配中国邮政编码</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> postcode</span></span><br><span class="line"><span class="comment">	 *            邮政编码</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkPostcode</span><span class="params">(String postcode)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;[1-9]\\d&#123;5&#125;&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, postcode);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 匹配IP地址(简单匹配，格式，如：192.168.1.1，127.0.0.1，没有匹配IP段的大小)</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> ipAddress</span></span><br><span class="line"><span class="comment">	 *            IPv4标准地址</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 验证成功返回true，验证失败返回false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkIpAddress</span><span class="params">(String ipAddress)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;[1-9](\\d&#123;1,2&#125;)?\\.(0|([1-9](\\d&#123;1,2&#125;)?))\\.(0|([1-9](\\d&#123;1,2&#125;)?))\\.(0|([1-9](\\d&#123;1,2&#125;)?))&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, ipAddress);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkNickname</span><span class="params">(String nickname)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">&quot;^[a-zA-Z0-9\u4E00-\u9FA5_]+$&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> Pattern.matches(regex, nickname);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">hasCrossSciptRiskInAddress</span><span class="params">(String str)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">regx</span> <span class="operator">=</span> <span class="string">&quot;[`~!@#$%^&amp;*+=|&#123;&#125;&#x27;:;&#x27;,\\[\\].&lt;&gt;~！@#￥%……&amp;*——+|&#123;&#125;【】‘；：”“’。，、？-]&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (str != <span class="literal">null</span>) &#123;</span><br><span class="line">            str = str.trim();</span><br><span class="line">            <span class="type">Pattern</span> <span class="variable">p</span> <span class="operator">=</span> Pattern.compile(regx, Pattern.CASE_INSENSITIVE);</span><br><span class="line">            <span class="type">Matcher</span> <span class="variable">m</span> <span class="operator">=</span> p.matcher(str);</span><br><span class="line">            <span class="keyword">return</span> m.find();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="常用正则表达式"><a href="#常用正则表达式" class="headerlink" title="常用正则表达式"></a><a target="_blank" rel="noopener external nofollow noreferrer" href="https://deerchao.net/tutorials/regex/common.htm">常用正则表达式</a></h2><p>说明：正则表达式通常用于两种任务：1.验证，2.搜索&#x2F;替换。用于验证时，通常需要在前后分别加上^和$，以匹配整个待验证字符串；搜索&#x2F;替换时是否加上此限定则根据搜索的要求而定，此外，也有可能要在前后加上\b而不是^和$。此表所列的常用正则表达式，除个别外均未在前后加上任何限定，请根据需要，自行处理。</p>
<p><img src= "/medias/detail/load.gif" data-lazy-src="/p/2f57a694/da0e6d9c3464c5188c6cb347b368a6ff.png"></p>
<h3 id="校验数字的表达式"><a href="#校验数字的表达式" class="headerlink" title="校验数字的表达式"></a>校验数字的表达式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1. 数字：^[0-9]*$</span><br><span class="line">2. n位的数字：^\d&#123;n&#125;$</span><br><span class="line">3. 至少n位的数字：^\d&#123;n,&#125;$</span><br><span class="line">4. m-n位的数字：^\d&#123;m,n&#125;$</span><br><span class="line">5. 零和非零开头的数字：^(0|[1-9][0-9]*)$</span><br><span class="line">6. 非零开头的最多带两位小数的数字：^([1-9][0-9]*)+(.[0-9]&#123;1,2&#125;)?$</span><br><span class="line">7. 带1-2位小数的正数或负数：^(\-)?\d+(\.\d&#123;1,2&#125;)?$</span><br><span class="line">8. 正数、负数、和小数：^(\-|\+)?\d+(\.\d+)?$</span><br><span class="line">9. 有两位小数的正实数：^[0-9]+(.[0-9]&#123;2&#125;)?$</span><br><span class="line">10. 有1~3位小数的正实数：^[0-9]+(.[0-9]&#123;1,3&#125;)?$</span><br><span class="line">11. 非零的正整数：^[1-9]\d*$ 或 ^([1-9][0-9]*)&#123;1,3&#125;$ 或 ^\+?[1-9][0-9]*$</span><br><span class="line">12. 非零的负整数：^\-[1-9][]0-9&quot;*$ 或 ^-[1-9]\d*$</span><br><span class="line">13. 非负整数：^\d+$ 或 ^[1-9]\d*|0$</span><br><span class="line">14. 非正整数：^-[1-9]\d*|0$ 或 ^((-\d+)|(0+))$</span><br><span class="line">15. 非负浮点数：^\d+(\.\d+)?$ 或 ^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$</span><br><span class="line">16. 非正浮点数：^((-\d+(\.\d+)?)|(0+(\.0+)?))$ 或 ^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$</span><br><span class="line">17. 正浮点数：^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$ 或 ^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$</span><br><span class="line">18. 负浮点数：^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$ 或 ^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$</span><br><span class="line">19. 浮点数：^(-?\d+)(\.\d+)?$ 或 ^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$</span><br></pre></td></tr></table></figure>

<h3 id="校验字符的表达式"><a href="#校验字符的表达式" class="headerlink" title="校验字符的表达式"></a>校验字符的表达式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1. 汉字：^[\u4e00-\u9fa5]&#123;0,&#125;$</span><br><span class="line">2. 英文和数字：^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]&#123;4,40&#125;$</span><br><span class="line">3. 长度为3-20的所有字符：^.&#123;3,20&#125;$</span><br><span class="line">4. 由26个英文字母组成的字符串：^[A-Za-z]+$</span><br><span class="line">5. 由26个大写英文字母组成的字符串：^[A-Z]+$</span><br><span class="line">6. 由26个小写英文字母组成的字符串：^[a-z]+$</span><br><span class="line">7. 由数字和26个英文字母组成的字符串：^[A-Za-z0-9]+$</span><br><span class="line">8. 由数字、26个英文字母或者下划线组成的字符串：^\w+$ 或 ^\w&#123;3,20&#125;$</span><br><span class="line">9. 中文、英文、数字包括下划线：^[\u4E00-\u9FA5A-Za-z0-9_]+$</span><br><span class="line">10. 中文、英文、数字但不包括下划线等符号：^[\u4E00-\u9FA5A-Za-z0-9]+$ 或 ^[\u4E00-\u9FA5A-Za-z0-9]&#123;2,20&#125;$</span><br><span class="line">11. 可以输入含有^%&amp;&#x27;,;=?$\&quot;等字符：[^%&amp;&#x27;,;=?$\x22]+</span><br><span class="line">12. 禁止输入含有~的字符：[^~\x22]+</span><br></pre></td></tr></table></figure>

<h3 id="特殊需求表达式"><a href="#特殊需求表达式" class="headerlink" title="特殊需求表达式"></a>特殊需求表达式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">1. Email地址：^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$</span><br><span class="line"></span><br><span class="line">2. 域名：[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;(/.[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;)+/.?</span><br><span class="line"></span><br><span class="line">3. InternetURL：[a-zA-z]+://[^\s]* 或 ^http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?$</span><br><span class="line"></span><br><span class="line">4. 手机号码：^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d&#123;8&#125;$</span><br><span class="line"></span><br><span class="line">5. 电话号码(&quot;XXX-XXXXXXX&quot;、&quot;XXXX-XXXXXXXX&quot;、&quot;XXX-XXXXXXX&quot;、&quot;XXX-XXXXXXXX&quot;、&quot;XXXXXXX&quot;和&quot;XXXXXXXX)：^(\(\d&#123;3,4&#125;-)|\d&#123;3.4&#125;-)?\d&#123;7,8&#125;$</span><br><span class="line"></span><br><span class="line">6. 国内电话号码(0511-4405222、021-87888822)：\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;</span><br><span class="line"></span><br><span class="line">7. 身份证号(15位、18位数字)：^\d&#123;15&#125;|\d&#123;18&#125;$</span><br><span class="line"></span><br><span class="line">8. 短身份证号码(数字、字母x结尾)：^([0-9])&#123;7,18&#125;(x|X)?$ 或 ^\d&#123;8,18&#125;|[0-9x]&#123;8,18&#125;|[0-9X]&#123;8,18&#125;?$</span><br><span class="line"></span><br><span class="line">9. 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;$</span><br><span class="line"></span><br><span class="line">10. 密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]\w&#123;5,17&#125;$</span><br><span class="line"></span><br><span class="line">11. 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$</span><br><span class="line"></span><br><span class="line">12. 日期格式：^\d&#123;4&#125;-\d&#123;1,2&#125;-\d&#123;1,2&#125;</span><br><span class="line"></span><br><span class="line">13. 一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$</span><br><span class="line"></span><br><span class="line">14. 一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$</span><br><span class="line"></span><br><span class="line">15. 钱的输入格式：</span><br><span class="line"></span><br><span class="line">    i. 有四种钱的表示形式我们可以接受:&quot;10000.00&quot; 和 &quot;10,000.00&quot;, 和没有 &quot;分&quot; 的 &quot;10000&quot; 和 &quot;10,000&quot;：^[1-9][0-9]*$</span><br><span class="line"></span><br><span class="line">    ii. 这表示任意一个不以0开头的数字,但是,这也意味着一个字符&quot;0&quot;不通过,所以我们采用下面的形式：^(0|[1-9][0-9]*)$</span><br><span class="line"></span><br><span class="line">    iii. 一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：^(0|-?[1-9][0-9]*)$</span><br><span class="line"></span><br><span class="line">    iv. 这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^[0-9]+(.[0-9]+)?$</span><br><span class="line"></span><br><span class="line">    v. 必须说明的是,小数点后面至少应该有1位数,所以&quot;10.&quot;是不通过的,但是 &quot;10&quot; 和 &quot;10.2&quot; 是通过的：^[0-9]+(.[0-9]&#123;2&#125;)?$</span><br><span class="line"></span><br><span class="line">    vi. 这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：^[0-9]+(.[0-9]&#123;1,2&#125;)?$</span><br><span class="line"></span><br><span class="line">    vii. 这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：^[0-9]&#123;1,3&#125;(,[0-9]&#123;3&#125;)*(.[0-9]&#123;1,2&#125;)?$</span><br><span class="line"></span><br><span class="line">    viii. 1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：^([0-9]+|[0-9]&#123;1,3&#125;(,[0-9]&#123;3&#125;)*)(.[0-9]&#123;1,2&#125;)?$</span><br><span class="line"></span><br><span class="line">    备注：这就是最终结果了,别忘了&quot;+&quot;可以用&quot;*&quot;替代如果你觉得空字符串也可以接受的话(奇怪,为什么?)最后,别忘了在用函数时去掉去掉那个反斜杠,一般的错误都在这里</span><br><span class="line"></span><br><span class="line">16. xml文件：^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$</span><br><span class="line"></span><br><span class="line">17. 中文字符的正则表达式：[\u4e00-\u9fa5]</span><br><span class="line"></span><br><span class="line">18. 双字节字符：[^\x00-\xff] (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))</span><br><span class="line"></span><br><span class="line">19. 空白行的正则表达式：\n\s*\r (可以用来删除空白行)</span><br><span class="line"></span><br><span class="line">20. HTML标记的正则表达式：&lt;(\S*?)[^&gt;]*&gt;.*?&lt;/\1&gt;|&lt;.*? /&gt; (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力)</span><br><span class="line"></span><br><span class="line">21. 首尾空白字符的正则表达式：^\s*|\s*$或(^\s*)|(\s*$) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)</span><br><span class="line"></span><br><span class="line">22. 腾讯QQ号：[1-9][0-9]&#123;4,&#125; (腾讯QQ号从10000开始)</span><br><span class="line"></span><br><span class="line">23. 中国邮政编码：[1-9]\d&#123;5&#125;(?!\d) (中国邮政编码为6位数字)</span><br><span class="line"></span><br><span class="line">24. IP地址：\d+\.\d+\.\d+\.\d+ (提取IP地址时有用)</span><br><span class="line"></span><br><span class="line">25. IP地址：((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.)&#123;3&#125;(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://fulsun.github.io">凉月</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://fulsun.github.io/p/2f57a694">https://fulsun.github.io/p/2f57a694</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://fulsun.github.io" target="_blank">凉月の博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/String%E7%B1%BB/">String类</a></div><div class="post_share"><div class="social-share" data-image="/medias/featureimages/007.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://unpkg.com/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/p/aca885fa" title="Java的加载执行过程"><img class="cover" src= "/medias/detail/load.gif" data-lazy-src="/medias/featureimages/010.jpg" onerror="onerror=null;src='/medias/detail/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Java的加载执行过程</div></div></a></div><div class="next-post pull-right"><a href="/p/3969fd76" title="Git基本命令"><img class="cover" src= "/medias/detail/load.gif" data-lazy-src="/medias/featureimages/013.jpg" onerror="onerror=null;src='/medias/detail/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Git基本命令</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "/medias/detail/load.gif" data-lazy-src="/medias/avatar.jpg" onerror="this.onerror=null;this.src='/medias/detail/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">凉月</div><div class="author-info__description">记录生活,分享知识。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">51</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/fulsun"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/fulsun" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:fl_6145@163.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">感谢访问本站，若喜欢请收藏 ^_^</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E9%98%85%E8%AF%BB"><span class="toc-text">相关阅读</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%A6%82%E8%BF%B0"><span class="toc-text">正则表达式概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E7%9A%84"><span class="toc-text">目的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">正则表达式的特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-text">正则表达式基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E5%AD%97%E7%AC%A6"><span class="toc-text">元字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%AC%A6%E5%8F%B7"><span class="toc-text">常见符号</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6"><span class="toc-text">字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%B1%BB"><span class="toc-text">字符类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-text">预定义字符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E6%8B%AC%E5%8F%B7%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">中括号表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%B9%E7%95%8C%E5%8C%B9%E9%85%8D%E5%99%A8"><span class="toc-text">边界匹配器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B4%AA%E5%A9%AA%E4%B8%8E%E6%87%92%E6%83%B0%E6%95%B0%E9%87%8F%E8%AF%8D"><span class="toc-text">贪婪与懒惰数量词</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E5%92%8C%E6%8D%95%E8%8E%B7"><span class="toc-text">分组和捕获</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E5%90%8E%E5%85%B3%E8%81%94%E7%BA%A6%E6%9D%9F-%E5%89%8D%E5%90%8E%E9%A2%84%E6%9F%A5"><span class="toc-text">前后关联约束(前后预查)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#exp%E5%89%8D%E7%BD%AE%E7%BA%A6%E6%9D%9F-%E5%AD%98%E5%9C%A8"><span class="toc-text">?&#x3D;exp前置约束(存在)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#exp%E5%89%8D%E7%BD%AE%E7%BA%A6%E6%9D%9F-%E6%8E%92%E9%99%A4"><span class="toc-text">?!exp前置约束-排除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">?&lt;&#x3D;exp后置约束-存在</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-1"><span class="toc-text">?&lt;!exp后置约束-排除</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E5%BF%97"><span class="toc-text">标志</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%BD%E7%95%A5%E5%A4%A7%E5%B0%8F%E5%86%99-Case-Insensitive"><span class="toc-text">忽略大小写 (Case Insensitive)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E6%90%9C%E7%B4%A2-Global-search"><span class="toc-text">全局搜索 (Global search)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E4%BF%AE%E9%A5%B0%E7%AC%A6-Multiline"><span class="toc-text">多行修饰符 (Multiline)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%95%99%E7%A8%8B"><span class="toc-text">更多正则表达式教程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-text">正则表达式的应用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E5%8A%9F%E8%83%BD"><span class="toc-text">匹配功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%89%B2%E5%8A%9F%E8%83%BD"><span class="toc-text">分割功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2%E5%8A%9F%E8%83%BD"><span class="toc-text">替换功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%8A%9F%E8%83%BD"><span class="toc-text">获取功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pattern-%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F"><span class="toc-text">Pattern 匹配模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Matcher-%E5%8C%B9%E9%85%8D%E5%99%A8"><span class="toc-text">Matcher 匹配器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%EF%BC%9A"><span class="toc-text">分组：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#start-%E6%96%B9%E6%B3%95"><span class="toc-text">start()方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#group%E6%96%B9%E6%B3%95"><span class="toc-text">group方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-text">正则表达式工具类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">常用正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E6%95%B0%E5%AD%97%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">校验数字的表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E5%AD%97%E7%AC%A6%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">校验字符的表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E9%9C%80%E6%B1%82%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">特殊需求表达式</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/p/94e3914c" title="Import 注册组件"><img src= "/medias/detail/load.gif" data-lazy-src="/medias/featureimages/008.jpg" onerror="this.onerror=null;this.src='/medias/detail/404.jpg'" alt="Import 注册组件"/></a><div class="content"><a class="title" href="/p/94e3914c" title="Import 注册组件">Import 注册组件</a><time datetime="2024-07-15T22:24:08.000Z" title="发表于 2024-07-15 22:24:08">2024-07-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/a0c53761" title="Configuration Bean 注册组件"><img src= "/medias/detail/load.gif" data-lazy-src="/medias/featureimages/012.jpg" onerror="this.onerror=null;this.src='/medias/detail/404.jpg'" alt="Configuration Bean 注册组件"/></a><div class="content"><a class="title" href="/p/a0c53761" title="Configuration Bean 注册组件">Configuration Bean 注册组件</a><time datetime="2024-07-15T21:24:08.000Z" title="发表于 2024-07-15 21:24:08">2024-07-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/65826306" title="Spring5新功能"><img src= "/medias/detail/load.gif" data-lazy-src="/medias/featureimages/008.jpg" onerror="this.onerror=null;this.src='/medias/detail/404.jpg'" alt="Spring5新功能"/></a><div class="content"><a class="title" href="/p/65826306" title="Spring5新功能">Spring5新功能</a><time datetime="2024-07-14T17:24:08.000Z" title="发表于 2024-07-14 17:24:08">2024-07-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/40bb048a" title="JdbcTemplate与声明式事务"><img src= "/medias/detail/load.gif" data-lazy-src="/medias/featureimages/013.jpg" onerror="this.onerror=null;this.src='/medias/detail/404.jpg'" alt="JdbcTemplate与声明式事务"/></a><div class="content"><a class="title" href="/p/40bb048a" title="JdbcTemplate与声明式事务">JdbcTemplate与声明式事务</a><time datetime="2024-07-14T11:24:08.000Z" title="发表于 2024-07-14 11:24:08">2024-07-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/92933cdb" title="Spring-AOP编程"><img src= "/medias/detail/load.gif" data-lazy-src="/medias/featureimages/012.jpg" onerror="this.onerror=null;this.src='/medias/detail/404.jpg'" alt="Spring-AOP编程"/></a><div class="content"><a class="title" href="/p/92933cdb" title="Spring-AOP编程">Spring-AOP编程</a><time datetime="2024-07-14T09:24:38.000Z" title="发表于 2024-07-14 09:24:38">2024-07-14</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 凉月</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://unpkg.com/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.js"></script><script src="https://unpkg.com/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  let initFn = window.walineFn || null

  const initWaline = (Fn) => {
    const waline = Fn(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://waline-fulsun.netlify.app/.netlify/functions/comment',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: false,
    }, null))

    const destroyWaline = () => {
      waline.destroy()
    }

    btf.addGlobalFn('pjax', destroyWaline, 'destroyWaline')
  }

  const loadWaline = async () => {
    if (initFn) initWaline(initFn)
    else {
      await getCSS('https://unpkg.com/@waline/client@3.1.2/dist/waline.css')
      const { init } = await import('https://unpkg.com/@waline/client@3.1.2/dist/waline.js')
      initFn = init || Waline.init
      initWaline(initFn)
      window.walineFn = initFn
    }
  }

  if ('Waline' === 'Waline' || !false) {
    if (false) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://unpkg.com/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>